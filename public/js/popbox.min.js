/*
 * MIT license https://github.com/gristmill/jquery-popbox/blob/master/README.md
 * 
 */
(function(){$.fn.popbox=function(e){var t=$.extend({selector:this.selector,open:".open",box:".box",arrow:".arrow",arrow_border:".arrow-border",close:".close"},e);var n={open:function(e){e.preventDefault();n.close();var r=$(this);var i=$(this).parent().find(t["box"]);i.find(t["arrow"]).css({left:i.width()/2-10});i.find(t["arrow_border"]).css({left:i.width()/2-10});if(i.css("display")=="block"){n.close()}else{i.css({display:"block",top:5,margin:0,right:0})}},close:function(){$(t["box"]).fadeOut("fast")}};$(document).bind("keyup",function(e){if(e.keyCode==27){n.close()}});$(document).bind("click",function(e){if(!$(e.target).closest(t["selector"]).length){n.close()}});return this.each(function(){$(this).css({width:$(t["box"]).width("150px")});$(t["open"],this).bind("click",n.open);$(t["open"],this).parent().find(t["close"]).bind("click",function(e){e.preventDefault();n.close()})})}}).call(this);
